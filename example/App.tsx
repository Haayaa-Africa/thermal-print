import { Buffer } from "buffer";
import React, { useRef, useState } from "react";
import {
  Alert,
  Button,
  PermissionsAndroid,
  Platform,
  StyleSheet,
  Text,
  View,
} from "react-native";
import { BleManager, Device } from "react-native-ble-plx";
import { captureRef } from "react-native-view-shot";
import * as ThermalPrint from "thermal-print";

export const manager = new BleManager();

const printerName = "58MINI_C0A3";

export default function App() {
  const [dataToPrint, setDataToPrint] = useState(null);
  const viewRef = useRef<View>();
  const [selectedDevice, setSelectedDevice] = useState<Device>();

  React.useEffect(() => {
    const subscription = manager.onStateChange((state) => {
      console.log(state);
      if (state === "PoweredOn") {
        scanAndConnect();
        subscription.remove();
      }
    }, true);
    return () => subscription.remove();
  }, [manager]);

  function scanAndConnect() {
    manager.startDeviceScan(null, null, (error, device) => {
      if (error) {
        // Handle error (scanning will be stopped automatically)
        return;
      }

      console.log(device?.name);

      if (device && device.name === printerName) {
        // Stop scanning as it's not necessary if you are scanning for one device.
        setSelectedDevice(device);
        manager.stopDeviceScan();
      }
    });
  }

  const printSomthing = async () => {
    if (!selectedDevice) {
      Alert.alert("Select A device");

      return;
    }

    const result = await captureRef(viewRef, {
      result: "base64",
      width: 300,
      quality: 1,
      format: "png",
    });

    if (!result) {
      return Alert.alert("Could not capture");
    }

    const toPrint = await ThermalPrint.generateBytecodeAsync(
      "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rlpudfWt6uG6rg4hF1ihixBlUT6hWqZHtvHXCCUscANwQA3AOceaeu+995zAIj1kc6yxbvAhXXrppW5BjTfeeGmFFVZIPM3iZkD+kUcecSL80Y9+lMYff/wy7aWXXkq33367+7YoF8ttnnnmSXPMMUe3Nwk68YvhE2OaOu6445Y6n3/+edf58ccfuw7qNO+886bZZ5+dbIMN999/v09dIz9W3FJLLdWlDJS8+eab6Y477ki0CfP/iiuuSK+99lriRl100UXTLLPMUtapu0J5CDAgmHLffPPNbuGC+cwzz+zlkgaWfJiKc02ZYB99hvzdd9/tdcKapT4E2nDnnXeml19+OX3xxRdet7nmmsunSKTnfcT0Cetg9dVXTy+88EK64YYb0tdff51mnHFGrweWNuHWW291fLhmqkV/EUIXfUrfgBn1AhfqQb8vu+yyaYoppijr7RkrX3mbPvvss8SUkfoQP91006Uf//jHZdvRXw3Egek111yTnnrqKU/+17/+lSaeeGKfHnK/0KdRX3CnTTygyUu/UfcgKXADQ2YIyy23nM84Ii/HBx54wF0qWPxcUxYBV8W1117rGHJvL7300u528cR2/rJGjvBgHVyY6er1sI4r7CYsjDwKu2E8jnQ+dgP7tVlePE4K80sVc889t59zzWeJJZYozIHapU177rmnp5mDtYy3wV7mm3LKKQsbSOX1f//7X5eLOpWZ7IR6EH7729+6vN2Ufs2X3dyljmmnnbaLThuQLlenM+LML1bmN8Ioz+1mK2zQdMlv5OHpJ5xwQrHHHnv4uZFVmcfIx+Wjvn7R4ov2Bn5TTTVVef673/2usAdCmetvf/ubp5nvzuOiP4ysPP6Xv/xlKW+EWuqxAVMY8ZTXtNMeSqVezg855BBPt4WMUi7q9Ne//rX48MMPiwMOOMDT8nb++9//dj2h78orr3SZY445prCB7+f0BbrM+iiq/XDqqad6WuBl7gnXZ/7OYt111/U08trU0c832WSTYuDAgS7TCttPPvmkMHJxeSN2P/bv39+PUV8UcA9GP08++eSeTlm77rprYQtKXgb3xmmnneZpHAmBuz2IPX6llVYqbApamO/KrynLCK/UN8MMMxTvvPOO5233L1i5ESE6v46wooIxsBmkdOz0009fHH/88T6YbSpZcJMSb/P3yOLHvffe2+PtqePXb7zxRmHz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IARaISDCaoWM4oWAEGgcAiKsxnWJKiQEhEArBERYrZBRvBAQAo1DQITVuC5RhYSAEGiFgAirFTKKFwJCoHEIiLAa1yWqkBAQAq0QEGG1QkbxQkAINA4BEVbjukQVEgJCoBUCIqxWyCheCAiBxiEgwmpcl6hCQkAItEJAhNUKGcULASHQOAREWI3rElVICAiBVgiIsFohY/HffvttKoqiG4nWSUOTN9faW3pynUN6DgZ19aiLC9melDEksj3R18kydVh3cntbtW0ku2m+34hspVHxHYUAt8dII43UUW1SY9oXgbawsHi6fPPNN/6U7w5qBld3coNLp5yvv/66LOfYY49Nl1xyyRBbWV999VX605/+lK666iqvT3d17i7t888/T/vss0+68847uxMbZmngAVk9++yz6aCDDkp33313WRY477///umGG24o4z799NN01llnpeOOO65bzOIZSd7DDz88ffbZZ6UOnfwPgcDprbfeSkcddVS66KKL/pfYV88MlMYGIw+v26WXXooVWFx88cV+bYOlS53j+vHHH3e57bffvks6Fzb4ir///e+e/o9//MPTyUc8wcih2G677YqVVlqpePnllz2OMtdff/3iiy++8OuQ9YtuvtBF3j333LOwwThEeXO1H374oes5+uijy3p+/PHHxeWXX14YGeaiw+Q88L/++uu9HkceeWRZzpdffulxRjhFyNnAKlZccUWPjz4pM2QnkXbAAQe4LPkIPcU3U9WjU+r3r3/9q7jiiiuGqj96VFgvCgVOTz75pOO0xRZb9KL29lTVFhaWDQ5/nmBx1IWYskw55ZRps802S6eeemp68803XdQGgR9feumldM455/j5Qw89lD755JM08sgjl9bUY4895pbBfPPNl6aeemq3EAYMGJB+8YtfpFFGGcXzRTnW1Z6eH12g8jX22GOXMYOTLQWzk9FGGy0ZSaSFF164jH3nnXfS6quvng499FCPC72lQIsT5Kqhu7ykRXunn356r8diiy1WVZHGHHPMMg75ySabLC2yyCJlXN1J6F1qqaUc87HGGsvFiB9cnbprR+SNY5SNxbvWWmulTTfdNH3wwQceXacn5ONYJ1PVHbIcu5OPfHUykTfSqrKB13jjjZcX5+chO0hCh0aM2g7tglgIcazWmQ6FmCaYYIK0+OKLJ4jmgQceSCussILHk48b9dZbb032lErHHHNM2nLLLdO8887r6RDSq6++6moZnARuBMiqLsQNVE0jT55mT8iyztW6V2WruriGDHbccUdPQj7illhiiQQ5E/LyPKLFV51cXVxkJ40P5c4000xd6pHni3pFPtocD5iIqx4jP4TFJw+RlsfFeau0VvGRb/TRR09gRj+PMcYYHl3tj5DNj3V66+IiT11aXRzy1f7P5eI8HpShP8c68odsyHT6sS0Ia0g6YdJJJ3XxV155pUu29957z69//etfp5NPPjnFdXQ4fgLCrLPO6kdu6FNOOSX94Ac/SCuvvLLHIWvTw3TjjTema665Jr3//vsJ62DGGWd0mTnnnNPl4ouBgrxN4ZJNSRJPSKyUtdde2wdO3HQhXz2S9y9/+Utadtll00ILLZQ++ugjv8Z65BwfGzogiXXWWSdNM800VRV+je/pv//9r8tAdJA77cOH9OCDD3rdZ5999nIQQfZXX311+s1vfpPGHXfc9Pzzz6fLLrvMyeWHP/xhbRlDEhntvvnmm9MjjzziD5Gw1G666ab03HPPuUU0ySSTlHVCPxjy4FljjTUcS+LQddttt3kauID5tNNOm5Zffnm39N599910wQUXpP/85z8ef8IJJ6SJJ5440d8bb7xx6tevX4kH+gKbRx99NF133XXeV/EQI+322293Xausskqiv6MtYEY9qNt0001Xxj/11FOOnbkr/AFE/6+55pqOa5SFBUhf8NDcaKON0sMPP+y+QJv+p7322iuNOur/D1PKIkSZnN93333pyiuv9HukzgJGpqOCNb6xIXwjF154IT1VnHvuuV7XmNvnFbfO90ub2rnsvvvuW4QcfiTr+MIsqsJuYE8353CZHR/KhhtuWNiAL4yEPB59RlYF/rDwYaFnt9128/zLLbdcscsuuxRmAfm13YSlvvBhUeZ6663n6b/61a8Ku/H9HN+W3aRlOWXGyomRksufeOKJnmLTwcKmmYUNssKmXoUNDv9QFyOelvr+/e9/ux4bUGUJRujFqquu6vHHH398GY+PbJtttvF4yiMYsfh1+P6ICx/W3/72t9KH9fbbbxc24AqbVpfYI1sN0S/45uhX8kXYYYcdPA5/JCFkOUc38kZoXHq/GGl73AILLFDsvPPO/jFS9rjXX3/d/ZEbbLCBX4OZWd3e1+gx14DrycuIcyNOz5NjQ//b9Nzjf/e735V9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ovhPPvkkQUqXX355grw4H3nkkUvfC/rOP//8BNGE7shbPaL7nXfe8Wj01AXiL7744vTss8/WJXu56Mk/dYKRTlqcx7FOPuJCJo4RXz1GevUYcjwQdtxxx3TIIYd4FNggG2GMMcbwU7Ak5Ho8ovIV6ZVoXTYEARHWMOoIBgiD5957700zzTRTOuCAA9I555yT3nvvvdoSRxllFI9fdtll06677pqefPJJv47Bx/Rm5plnTmOOOWZt/mok1hqBfHWBeAbz2GOPXZfs+ZDJPwhGfSJTpHMd53EMmbpjyMQRmVx3nEd69Rg6xxprrDTttNOmySabzKPAHdnAM/SEfKQjU01DJsrhvC6deIURh4Cc7sMAe4iKgfHYY4/5k//QQw9Nq622mk/nrrrqqrT11lv7wMiLDqtpzTXXTDfeeGM6/fTT05/+9CefJiLH4MEq6ukgCrnQmx+DTL/44otafeS966670rXXXusW4SSTTJJWXHHFNO+883q9SWdgMzWFhH/0ox+lWWaZJV122WXpnnvucRJcYokl0k9+8hNvYsjH8YMPPkj/+te/EtM1psSzzjprWnXVVdMUU0zRRZ60O++8M910002JPBDslFNOmSD1OeaYw+t28sknp5dffjm9+eabjhntpJyll1469e/fv2wfcYQHH3zQ67jMMsukGWaYwR8q4BHhmWeeSVdffbX3V79+/Tw/bVVoCALWkQq9jIANNNd4ySWXMEoKc/wWNnUpVllllWK++eYrvvzyy7JEIyE/t+mZyxpJFH/961/9/KGHHirlyGMDsNhqq60Ks9I83gZnmZ6fUL45ml2HTSHzpPL8lVdeKcwKKTbYYAOPC12fffZZYQTreSeddNLil7/8pZ/TjmOPPbb46quvipA1ovC0/fffv1h55ZX9HH3I8jn11FPL8gKTRx55pJhgggk83XxoxUYbbVTKR3vRzyfqMd5443m7f/GLX5Sy77//vmNKOeAy4YQTFksttVSx5JJLFj/84Q+L2267zcs24vc8Zun69f333+/XNj3362hLHM2n5+lGbJ4e9fYLfY1wBHiCKPQiAnHjv/3224VZDX7zm3/KSzjjjDP8+uabb/ZrZIOwgtwYUPaUd7ltttmmJAezhoaIsI488kjXYVZPYZZMwYBFN0dIwywcT99www27tP7cc8/1+IMOOqh4/vnnC3Nqe3023XRT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tthing55QRJMr+666y73b80111zpjjvuSI8//ngaffTR00ILLZRmn312l//www/Tddddl95777000UQTpaWXXjpNMskkXaZjENijjz6aHn74YdcLKU099dRp8cUXT+ONN14X8nvjjTd8ukqZEChT2GeeeSbNM888iSkgUz7CLbfckt5///30zjvv+PRw/PHHT1dccYWnIUM9P/roI9fPlBdfXR2RegZ9dS4C1ukKbYSAEZDX9vLLLy/srixOPvnkQWpvU6eCD7IhP3DgQJffcssti/3339/PyR+fu+++u3j55ZeLH/7wh2UcaZtuumnx6quvehlGin60aVwpM8UUU5Tna6yxRmFk1EX26quv9vQ99tij2HnnnUvZnXbaqdhzzz392ojMj+an8qP55Aqb5vp5v379/Ggk7MdFFlmkoC0Emz76UV99BwGeUgpthEAQ0IsvvugDGFI5//zzfRBDLEEqNCknLHNul/LmFyrM2ipsZbEwa8rj11tvvWLOOecsjjjiiOLZZ5918jrhhBM87ZxzznGEIEGCWUPFKaec4uRkFllhTvPizDPPdFmz+IqPP/7Y5fi66qqrynK33nrrwizD4umnny7MunMihLhowwUXXFC88MILhVltxZtvvuk6zMLytH/84x8F7TWrrqAdX375ZalfJ30LARFWG/c3RBUWEkeb2hXmz3KSYNATgmSCsKacckof/HmzjzzySNez7bbb5tHF559/7vHrr79+YVM1T+vOqjnrrLNc/vXXXy/1XHPNNR5nK5aFTfnK+Dj5y1/+4um2yhlR5RHipF3oUBACICAflo2Idg3rrrtuMmslXXvtte7veeCBB9KOO+7ozcEZb9aSbwnI27fccsulaaedtoufCZ8QYYMNNvCjWWalP8ymee7TMqvG08Khjs/skUceSUYq6dNPP034zWxK6TL4omyq2EWecieYYIJkBOqydu95GVwT0EeIdMqJMkMmT3NhffU5BERYbdrlDHgGNauDM8wwQ9pmm22SWUTuWDfLKx1//PHu5D7ssMPcuY08AUc3WwcgmIjDoU2IDadBShxZocMBH7LEsV3C/FFOZOSbY445fJUPoiNAWBEiX6zwsQAQ+pGJ8zjmq4j5eciGXOjXsW8hIMJq0/5m4AYZxMBm5WzZZZf1FThI5aSTTkp//OMfuxAWzR2SQR9lxNH8ZGmrrbZK5qRP5p/yDZ2UO/bYYycsvBVWWMHJsArrkJRZzatrIRAIiLACiTY8Bglg2QSBcWQbAtsU2LowtCHKCMLiFSDI6txzz00rrbRSF/VYeISQ7ZLY4iL0R3JMR/P4IOS6tMinY99AQDvd27SfP/jgA/cdUX0GNAM8jrZKl2zFzVuWD/zeaGroi2lk6KQ+Rx99tF/G1DDSujvGRtEgOa6DoLDaCOy/IjCtjPI9Ql99DgFZWG3W5QxsBq2tnLmT3PZjpXnnndfjiMdRfeKJJ6brr78+/eEPf0hTTTWVtzBIoEo0JEZaHRmMMcYYvik00rgm2P4vn3oyHYSgjjvuON8USlrIch668ZnVBTaUEtgIy+ZT6s+mUazE8KkNGDDAFw+4pqzJJ5/cN5LW6VNchyNgA0ChjRCwAeu1veeee3zJ327P2uNvfvMb388UTWPvE7JrrrlmueEydN18882eZj4oF4/4L774ojCnvqfZq0Cexj4ve4dxkDLtVaDi7LPP9vjbb789ii0uu+wyj7NFAI+rbotg68Q+++zTRd9BBx1Uyl566aVd0miDvXdYppcF6aRPIKCfl2nTBxKWhu21Sp999lmyPVa+vcDu2NS/f39fOeQ1GKZUyGHl4F967bXX3DLBkskDUy7bO+UWTkzDSCcvv6TAqiKWWlhnWEG22zwZaSamn/PPP3+addZZfUWReGTHHXdcLyJet2F1svqKT9SBbRH4xrDC2LrA6z3IRmC7BG2LgKUV7x5GnI59AwERVof0MwOaT0zBaFaQVW82kTJiyhckEteDKyfPG7J1cZGmoxCoIiDCqiLSRtetCKNVPAQGuVQJBnk+OdkFDHW6qnH5dbUM0vjUlVstg+s62dAf8tX6R7yOnY+ACKvz+1gtFAIdg4C2NXRMV6ohQqDzERBhdX4fq4VCoGMQEGF1TFeqIUKg8xEQYXV+H6uFQqBjEBBhdUxXqiFCoPMREGF1fh+rhUKgYxAQYXVMV6ohQqDzERBhdX4fq4VCoGMQEGF1TFeqIUKg8xEQYXV+H6uFQqBjEBBhdUxXqiFCoPMREGF1fh+rhUKgYxAQYXVMV6ohQqDzERBhdX4fq4VCoGMQEGF1TFeqIUKg8xEQYXV+H6uFQqBjEBBhdUxXqiFCoPMREGF1fh+rhUKgYxAQYXVMV6ohQqDzERBhdX4fq4VCoGMQEGF1TFeqIUKg8xEQYXV+H6uFQqBjEBBhdUxXqiFCoPMREGF1fh+rhUKgYxAQYXVMV6ohQqDzERi185uoFg4tAvlfxetv4ocWTeUfGgREWEOD3lDm/fbbb1OQwcgjj5zqyOCbb77xeNK/b4gy6vR3p5P6EfKy0UV8q/p2p294p1FXPnn9h3cdVF7vIjCSdWjRuyqlrScIAHuVQOrieqJrWMjkdfnkk0/Sp59+msYcc8w03njjDYvipFMI9AgBWVg9gql3hcJCuf3229MDDzzgxLXGGmukaaaZprReKPGLL75Ip512Whp//PHT6quvnsYZZxy3GKpE113t0PHUU0+lSSaZJE011VQ9zk8Z999/f7rjjjvS448/nl555ZU06aSTpllnnTVNMcUUaamllkrTTz99d0WPsLQg2/feey89++yzac4550xjjTXWCKuPCu5FBKxzFYYzAl9//bWXeNRRR2Hd+ucf//hHWQsjND//+OOPPW3KKacs3n77bY+LNC44Rxcfmzr6tQt9l8b5Y4895jpOPvlkT/ryyy9d1i9qvtBDuPbaa8u6rbXWWsWWW25ZbLTRRoURlsdT9zyQL/JyjHpV69sqLddFnlyO81xPLpunRZ6vvvrKRW699VavqxGuXwdOeX6dtxcCsrB6kfx7qiospJheLb744mnrrbdOK664YppuuulKNSFHepxHot1mHjfKKKNElB9tYLvPJtJHG200jw8/Tlx3yfTdReR98cUX0+abb+6xd999d1pooYVKcSO8dOONN6axxx67jOMk9FNunIcAcQTa0KoduWydHOnRppDlGGXVlRttjWMVq1yPztsDARHWCOwnswi89JlmmikxPTzvvPPSzjvvPMigZlpXDQxqiOWZZ55J6GFQzj333D71C+L54IMP0r333utZn3vuOZ/amdXm0yPKxCdVF95555308ssvp3333dfJKggH2dFHHz2ttNJKg2RjajvuuOMm9D799NPp+eefdxmmkEHCZuGk++67L73//vteX4iQPDkR0S6mn9T3888/dx3ILLDAAl52Lks609aZZ57Zp6vU4Y033nA/29RTT50efvhhz//ggw8m/HCQ7UQTTZRmmGGGQTB2QX01HwG7ARSGMwJMXQhMA+0OKc4+++ziwAMP9HPzuZS1sUHmcea/KoxEPD6mRhdeeGEx22yzeTo6+Cy22GLFf//73zL/Lbfc4vFzzDFHF7l+/foVRiouF3XhIs6N5Fx+t912K3XFSUz1QpZ4pmDTTjttsffeexeXXXZZl7LML1fcc889hZFnsdNOO3VJMyuuMPJy1dGuiy++uJhgggm6yNG27bbbrjASddko+/XXX3c58Mun18hvvPHGnmYE1UXXFltsUTAtVmhPBHi6KQxnBGLAnXTSST6YzLFdmKXg5wcddFBZmzrCIjH8SwsuuGCBn+a1114rLr300sKsCtcRZATJnXHGGR63++67Fw899FBBWWblFOiuhqiXOek9z8QTT1xceeWVTioQS6STLwiGc7MAi3XWWcfzLLLIIsUFF1xQDBw40OsEeSyzzDJOZssvv3xhU8wC/bSTtCOOOAIVZRgwYEBxwAEHFHfeeWdhllbx5JNPFsccc4zL2rTZy42yaTc6zKle2CKAk6VZVcVNN93k+Y4//nhPP/fcc5000fnEE090qXtZsE7aAgER1gjophj4QVjXXHON12KrrbbyAcagI3z44Yd+jYUVTndb+SqwEhioNh10ufi67bbbPB5LJgY1Ax7ZU045JcR6dIR0yBcfHO6QH9YS9SJEGRDWhhtu6LIQUh5OPfVUj99kk03cyoo0m7oVSy+9dLHssstGVLdHiIy65BZkEBbxL7zwwiD5IWfSIEiFzkDg++9GtDtBoXcQsIHvioyw/HjFFVf4cdRR/+ditNvN4/Bb2Ypf2nHHHdOMM87o2yAiP74cs2LSDTfckGya5vJxNJL0a46hyyMqX5G25pprJnw/++yzj0v885//TD/72c+SWXVpl112SS+99FLpB8LvhO/ISM3rRAb8VQSz0vy48sor+/YM4iljsskmS6ussoo78NnjRYiyOUe/WY/puuuu8+Orr75KtPvt/MS+KJewxx57JFtJ9XN0BB5RhziSlpfhGfTVVgj8b0S0VbU7q7Ix8Oabb760ww47pF133TXZFCv1799/kIYG8UQaq2QxCHEo2/Qr2fQv4TiPQYySKKN6Xi0AOfRBlvPMM4/vu6JOOKxtSuVkedxxx7kT26y2FCtvOPgXXXTRcmNplBfpsZoXR9JjbxTOc1YdiYP4DjnkkHTWWWelN998s6ye+bX8PAi4TLCT2WefvaxHlEt6fh7ydXGRpmPzEZCF1aA+giTY3kAwv0v67LPPfNCFxUB8kFMs1RMXAXIYY4wx/LJuZTHkBndkUFMO5aJvwgknTJNPPnnC6jJ/kq/YnX766W6BoQtZPuRrRQhBVN2VjSUEOZoD3a0mWzRI5nfzzZ+HH354y6xgUVduYNUyoxLaDgERVsO6jGnen/70p7TXXnulRx99tNwSENWMgR9TpCAL0s23lMxn5TvRmXIRvu9ADvIJ/ZAXH7YobLvttq7bVun8OLRfQcjsqD/nnHPSCSeckH73u9+lJZdc0rdqsA2BXfaEuvZUyw+iCtk4Ihdp1Ty6bg8ERFgN6icsDPY58RoOYf/993cSygccPiGmQOzbYm8RaUFiTKFsq0Rabrnlyo2d6MsDVliuL0+Lc6wzpl7IxYcy+FAm+6wIQYqRb2iPtrDgKpjaEoLIIJlHHnnE44bkq2ptRluGRIdkm4WACGsE9kf4d+IIITA48R0dfPDB6aqrrvL39dg4GaSEhYOTmd3m+JDYCMrUEd8PUymCrSKWpMQGSvJcf/317rDGwf3RRx/5ZtNq04MgsHRs71ZiSoYsH8phwycW0KGHHprsdZ0077zzugqIAJJpNU1FKNqYlxmLCuQnYEkRWHSwVT/3m9E2psdYnISQzc/rdJMe8bSd+tOOcPCTrtCGCNgAURjOCJgl5SWyB8lumYLNkgS2O/AhmEXhaaTzeeuttzyeL7Y27LfffmX6wgsvXJ4fe+yxvpETOSMgDr4xNfTEkXcMCVFefh7vH4Zs9Wgrfl4/V2BfbMREZrPNNivLjjba7n1PYwsHgfiol1mQnpa3LfZOoW+JJZbwdPaXbb/99n6ev3Np02KP4z3J0EkZcf7uu+8WtprqMtEG9myxDUOhPRHQz8vYnTy8g90qbinY5sqELwrLghW9iI8j0yCmYExtmAZyjDTiefUEp/Tz9hoM6Vg8WEZYLiFH2zhHFyt9nGOt4Stj5S2XCxyYDmLhYFHxawf4xVid7G+rlrPMMou/foMTPoIRhL8iw0ofr+KEpYg1xGs26OKXKLD0KI9AGrpZzaTeMX1jWnzXXXcl2++V+LUFfmnBiMvzgFfoIQLri1eP0MsnD9GuaANpxDFFnmuuuUqLNc+j8+YjIMIaQX0UAyqKH9x1yHHMZSESiIj3AmO6lKfn+arnPZWLd/oY7DE17Uneqkz1ulqf/BrSpG117zv2VE9P5fJydd5sBERYI7B/sEwYVJBAkE1eHdIjBFHENfkib8Qhj57B6UK+lVyui/Nqua3KiLpW5aOedeXV5Qn50BPX5Oe8qgdSQ5b4uhD587TQncfpvD0QEGG1Rz91W8sYyN0KDUUi+gmtSGEoVHebdVi3q9vCldhIBERYjewWVUoICIE6BLStoQ4VxQkBIdBIBERYjewWVUoICIE6BERYdagoTggIgUYiIMJqZLeoUkJACNQhIMKqQ0VxQkAINBIBEVYju0WVEgJCoA4BEVYdKooTAkKgkQiIsBrZLaqUEBACdQiIsOpQUZwQEAKNRECE1chuUaWEgBCoQ0CEVYeK4oSAEGgkAiKsRnaLKiUEhEAdAiKsOlQUJwSEQCMREGE1sltUKSEgBOoQEGHVoaI4ISAEGomACKuR3aJKCQEhUIeACKsOFcUJASHQSAREWI3sFlVKCAiBOgREWHWoKE4ICIFGIiDCamS3qFJCQAjUISDCqkNFcUJACDQSARFWI7tFlRICQqAOARFWHSqKEwJCoJEIiLAa2S2qlBAQAnUIiLDqUFGcEBACjURAhNXIblGlhIAQqENAhFWHiuKEgBBoJAIirEZ2iyolBIRAHQIirDpUFCcEhEAjERBhNbJbVCkhIATqEBBh1aGiOCEgBBqJgAirkd2iSgkBIVCHgAirDhXFCQEh0EgERFiN7BZVSggIgToERFh1qChOCAiBRiIgwmpkt6hSQkAI1CEgwqpDRXFCQAg0EgERViO7RZUSAkKgDgERVh0qihMCQqCRCIiwGtktqpQQEAJ1CIiw6lBRnBAQAo1EQITVyG5RpYSAEKhDQIRVh4rihIAQaCQCIqxGdosqJQSEQB0CIqw6VBQnBIRAIxEQYTWyW1QpISAE6hAQYdWhojghIAQaiYAIq5HdokoJASFQh4AIqw4VxQkBIdBIBERYjewWVUoICIE6BERYdagoTggIgUYiIMJqZLeoUkJACNQhIMKqQ0VxQkAINBIBEVYju0WVEgJCoA4BEVYdKooTAkKgkQiIsBrZLaqUEBACdQiIsOpQUZwQEAKNRECE1chuUaWEgBCoQ0CEVYeK4oSAEGgkAiKsRnaLKiUEhEAdAiKsOlQUJwSEQCMREGE1sltUKSEgBOoQEGHVoaI4ISAEGomACKuR3aJKCQEhUIeACKsOFcUJASHQSAREWI3sFlVKCAiBOgREWHWoKE4ICIFGIiDCamS3qFJCQAjUISDCqkNFcUJACDQSARFWI7tFlRICQqAOARFWHSqKEwJCoJEIiLAa2S2qlBAQAnUIiLDqUFGcEBACjURAhNXIblGlhIAQqENAhFWHiuKEgBBoJAIirEZ2iyolBIRAHQIirDpUFCcEhEAjERBhNbJbVCkhIATqEBBh1aGiOCEgBBqJgAirkd2iSgkBIVCHgAirDhXFCQEh0EgERFiN7BZVSggIgToERFh1qChOCAiBRiLwf31eRgCoLTw/AAAAAElFTkSuQmCC",
      300,
      12
    );

    selectedDevice
      .connect()
      .then((device) => {
        return device.discoverAllServicesAndCharacteristics();
      })
      .then(async (device) => {
        const services = await device.services();
        let correctCharacteristic = null;

        for (const service of services) {
          const characteristics = await service.characteristics();

          correctCharacteristic = characteristics.find(
            // eslint-disable-next-line prettier/prettier
            (characteristic) => characteristic.isWritableWithResponse
          );

          if (correctCharacteristic) {
            break;
          }
        }

        if (correctCharacteristic) {
          for (const line of toPrint) {
            const response = await correctCharacteristic.writeWithResponse(
              Buffer.from(line).toString("base64")
            );
          }
        }
      })
      .catch((error) => {
        console.log(error);
      });

    setDataToPrint(toPrint);

    console.log(toPrint);
  };

  const checkPermission = async () => {
    if (Platform.OS === "ios") {
      return true;
    }
    if (
      Platform.OS === "android" &&
      PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION
    ) {
      const apiLevel = parseInt(Platform.Version.toString(), 10);

      if (apiLevel < 31) {
        const granted = await PermissionsAndroid.request(
          PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION
        );
        return granted === PermissionsAndroid.RESULTS.GRANTED;
      }
      if (
        PermissionsAndroid.PERMISSIONS.BLUETOOTH_SCAN &&
        PermissionsAndroid.PERMISSIONS.BLUETOOTH_CONNECT
      ) {
        const result = await PermissionsAndroid.requestMultiple([
          PermissionsAndroid.PERMISSIONS.BLUETOOTH_SCAN,
          PermissionsAndroid.PERMISSIONS.BLUETOOTH_CONNECT,
          PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,
        ]);

        return (
          result["android.permission.BLUETOOTH_CONNECT"] ===
            PermissionsAndroid.RESULTS.GRANTED &&
          result["android.permission.BLUETOOTH_SCAN"] ===
            PermissionsAndroid.RESULTS.GRANTED &&
          result["android.permission.ACCESS_FINE_LOCATION"] ===
            PermissionsAndroid.RESULTS.GRANTED
        );
      }
    }

    Alert.alert("Permission Not Granted");

    return false;
  };

  return (
    <View style={styles.container}>
      <Button title="Check Permission" onPress={checkPermission} />
      <Button title="Print something" onPress={printSomthing} />

      <View
        style={{
          width: 300,
          justifyContent: "center",
          borderWidth: 3,
          minHeight: 100,
          borderColor: "black",
          alignItems: "center",
        }}
        ref={viewRef}
      >
        <Text>This is actually very nice</Text>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: "#fff",
    alignItems: "center",
    justifyContent: "center",
  },
});
